:root{
  --font-base: "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --font-display: "Space Grotesk", "Inter", system-ui, sans-serif;

  --radius-xs: 8px;
  --radius-sm: 10px;
  --radius-md: 12px;
  --radius-lg: 14px;
  --radius-xl: 16px;
  --radius-2xl: 18px;
  --radius-pill: 999px;

  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;

  --transition-fast: 0.12s ease;
  --transition-base: 0.2s ease;

  --color-primary: #e5efee;
  --color-primary-strong: #2a4a4f;
  --color-primary-soft: #d2e1de;
  --color-surface: #f5f7f7;
  --color-surface-2: #eef2f2;
  --color-surface-3: #ffffff;
  --color-border: #c8d5d2;
  --color-border-strong: #b3c3bf;
  --color-border-rgb: 200,213,210;

  --color-text: #1f2e31;
  --color-text-contrast: #ffffff;
  --color-muted: #4b6064;
  --color-muted-2: #6b7f7c;

  --color-accent: #f3e29e;
  --color-accent-2: #e2c86f;
  --color-accent-rgb: 243,226,158;
  --color-primary-rgb: 229,239,238;
  --color-text-rgb: 31,46,49;
  --color-surface-rgb: 245,247,247;
  --color-danger-rgb: 214,84,84;
  --color-warn-rgb: 214,188,106;
  --color-ok-rgb: 63,156,118;

  --color-danger: #d65454;
  --color-warn: #d6bc6a;
  --color-ok: #3f9c76;

  --shadow-strong: 0 18px 50px rgba(31,46,49,0.16);
  --shadow-soft: 0 12px 32px rgba(31,46,49,0.12);
  --shadow-inset: inset 0 1px 0 rgba(255,255,255,0.65);
  --shadow-color-strong: rgba(var(--color-text-rgb),0.18);
  --shadow-color-soft: rgba(var(--color-text-rgb),0.12);
  --shadow-color-deep: rgba(var(--color-text-rgb),0.24);

  --glass-strong: rgba(255,255,255,0.75);
  --glass-soft: rgba(255,255,255,0.5);
  --glass-faint: rgba(255,255,255,0.3);

  --overlay-strong: rgba(31,46,49,0.16);
  --overlay-soft: rgba(31,46,49,0.1);
  --overlay-faint: rgba(31,46,49,0.05);

  --page-gradient: radial-gradient(1100px 640px at 18% 0%, rgba(var(--color-accent-rgb),0.2), transparent 58%), linear-gradient(180deg, #f7f9f9, #e1e8e6);
  --panel-gradient: linear-gradient(130deg, rgba(255,255,255,0.95), rgba(240,244,243,0.92));
  --card-gradient: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(var(--color-primary-rgb),0.25));

  /* Legacy tokens to ease migration */
  --bg0: var(--color-primary);
  --bg1: var(--color-primary-soft);
  --card: var(--color-surface-2);
  --muted: var(--color-muted-2);
  --line: var(--color-border);
  --txt: var(--color-text);
  --blue: var(--color-accent);
  --violet: var(--color-accent-2);
  --aqua: var(--color-accent);
  --shadow: var(--shadow-strong);
  --glass: var(--glass-faint);

  --bg: var(--color-primary-strong);
  --bg-card: var(--color-surface-2);
  --bg-card-2: var(--color-surface-3);
  --border: var(--color-border);
  --accent: var(--color-accent);
  --accent2: var(--color-accent-2);
  --accent-soft: rgba(var(--color-accent-rgb),0.28);
  --text-main: var(--color-text);
  --text-muted: var(--color-muted-2);
  --danger: var(--color-danger);
  --ok: var(--color-ok);
  --warn: var(--color-warn);
}

body.dark-mode,
body[data-theme="dark"]{
  --color-primary: #0F1819;
  --color-primary-strong: #0A1213;
  --color-primary-soft: #1A2A2A;
  --color-surface: #162426;
  --color-surface-2: #1F3031;
  --color-surface-3: #243638;
  --color-border: #2C4441;
  --color-border-strong: #36514F;
  --color-border-rgb: 44,68,65;

  --color-text: #E9F1EE;
  --color-text-contrast: #F8FBF9;
  --color-muted: #B1C4BF;
  --color-muted-2: #95AAA4;

  --color-accent: #E6D98C;
  --color-accent-2: #CBBF74;
  --color-accent-rgb: 230,217,140;
  --color-primary-rgb: 15,24,25;
  --color-text-rgb: 233,241,238;
  --color-surface-rgb: 31,48,49;
  --color-danger-rgb: 239,107,100;
  --color-warn-rgb: 217,195,106;
  --color-ok-rgb: 74,174,138;

  --color-danger: #EF6B64;
  --color-warn: #D9C36A;
  --color-ok: #4AAE8A;

  --shadow-strong: 0 18px 55px rgba(0,0,0,0.55);
  --shadow-soft: 0 12px 32px rgba(0,0,0,0.4);
  --shadow-inset: inset 0 1px 0 rgba(255,255,255,0.08);
  --shadow-color-strong: rgba(0,0,0,0.5);
  --shadow-color-soft: rgba(0,0,0,0.35);
  --shadow-color-deep: rgba(0,0,0,0.6);

  --glass-strong: rgba(255,255,255,0.08);
  --glass-soft: rgba(255,255,255,0.05);
  --glass-faint: rgba(255,255,255,0.03);

  --overlay-strong: rgba(0,0,0,0.35);
  --overlay-soft: rgba(0,0,0,0.22);
  --overlay-faint: rgba(0,0,0,0.12);

  --page-gradient: radial-gradient(1100px 640px at 20% 0%, rgba(var(--color-accent-rgb),0.15), transparent 58%), linear-gradient(180deg, rgba(var(--color-primary-rgb),0.94), rgba(var(--color-primary-rgb),0.88));
  --panel-gradient: linear-gradient(130deg, rgba(var(--color-primary-rgb),0.92), rgba(var(--color-primary-rgb),0.88));
  --card-gradient: radial-gradient(circle at 22% 0%, rgba(var(--color-accent-rgb),0.14), rgba(var(--color-primary-rgb),0.2)), linear-gradient(180deg, rgba(var(--color-primary-rgb),0.2), rgba(var(--color-primary-rgb),0.1));

  color-scheme: dark;
}

body.light-mode,
body[data-theme="light"]{
  color-scheme: light;
}

body{
  background: var(--page-gradient);
  color: var(--color-text);
  transition: background-color .25s ease, color .25s ease, background .25s ease;
}

.theme-toggle{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  padding:.5rem .8rem;
  border-radius:var(--radius-md);
  border:1px solid var(--color-border);
  background: linear-gradient(145deg, rgba(var(--color-primary-rgb),0.08), rgba(var(--color-accent-rgb),0.18));
  color:var(--color-text);
  font-weight:700;
  cursor:pointer;
  transition: transform var(--transition-fast), filter var(--transition-fast), box-shadow var(--transition-fast);
  box-shadow: var(--shadow-soft);
}
.theme-toggle:hover{ transform:translateY(-1px); filter:brightness(1.04); }
.theme-toggle:focus-visible{ outline:2px solid var(--color-accent); outline-offset:2px; }
.theme-toggle .ico{ font-size:1rem; line-height:1; }
.theme-toggle .label{ font-size:.9rem; letter-spacing:.05rem; }
